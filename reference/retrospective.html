<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Retrospective analysis — retrospective • MARS</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Retrospective analysis — retrospective"><meta name="description" content="Perform a retrospective analysis, successive removals of most recent years of data to evaluate
consistency in model estimates of biomass, recruitment, etc.
The summary method returns Mohn's rho and the plot method generates a markdown report."><meta property="og:description" content="Perform a retrospective analysis, successive removals of most recent years of data to evaluate
consistency in model estimates of biomass, recruitment, etc.
The summary method returns Mohn's rho and the plot method generates a markdown report."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">MARS</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-topics" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Topics</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-topics"><li><a class="dropdown-item" href="../articles/introduction.html">Introduction</a></li>
    <li><a class="dropdown-item" href="../articles/equations.html">Model equations</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/Blue-Matter/MARS/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Retrospective analysis</h1>
      <small class="dont-index">Source: <a href="https://github.com/Blue-Matter/MARS/blob/master/R/retrospective.R" class="external-link"><code>R/retrospective.R</code></a></small>
      <div class="d-none name"><code>retrospective.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Perform a retrospective analysis, successive removals of most recent years of data to evaluate
consistency in model estimates of biomass, recruitment, etc.</p>
<p>The <code>summary</code> method returns Mohn's rho and the plot method generates a markdown report.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">retrospective</span><span class="op">(</span><span class="va">MARSassess</span>, yret <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">5</span>, cores <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'MARSretro'</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">x</span>, var <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"S_yst"</span>, <span class="st">"R_yst"</span>, <span class="st">"F_yst"</span>, <span class="st">"VB_ymft"</span><span class="op">)</span>, s <span class="op">=</span> <span class="fl">1</span>, f <span class="op">=</span> <span class="fl">1</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'MARSretro'</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">object</span>, by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"stock"</span>, <span class="st">"fleet"</span><span class="op">)</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'MARSretro'</span></span>
<span><span class="fu"><a href="report.html">report</a></span><span class="op">(</span></span>
<span>  <span class="va">object</span>,</span>
<span>  filename <span class="op">=</span> <span class="st">"retro"</span>,</span>
<span>  dir <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  open_file <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  render_args <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-marsassess">MARSassess<a class="anchor" aria-label="anchor" href="#arg-marsassess"></a></dt>
<dd><p><a href="MARSassess-class.html">MARSassess</a> object</p></dd>


<dt id="arg-yret">yret<a class="anchor" aria-label="anchor" href="#arg-yret"></a></dt>
<dd><p>Vector of integers (greater than zero) specifying the years to remove for the retrospective analysis</p></dd>


<dt id="arg-cores">cores<a class="anchor" aria-label="anchor" href="#arg-cores"></a></dt>
<dd><p>Integer for the number of cores to use for parallel processing (snowfall package)</p></dd>


<dt id="arg-x-object">x, object<a class="anchor" aria-label="anchor" href="#arg-x-object"></a></dt>
<dd><p>Output of <code>retrospective</code> function</p></dd>


<dt id="arg-var">var<a class="anchor" aria-label="anchor" href="#arg-var"></a></dt>
<dd><p>Character to indicate the metric, the item in the <code>MARSretro</code> list to be plotted. See details below.</p></dd>


<dt id="arg-s">s<a class="anchor" aria-label="anchor" href="#arg-s"></a></dt>
<dd><p>Integer for the stock index to plot</p></dd>


<dt id="arg-f">f<a class="anchor" aria-label="anchor" href="#arg-f"></a></dt>
<dd><p>Integer for the fleet index to plot</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Not used</p></dd>


<dt id="arg-by">by<a class="anchor" aria-label="anchor" href="#arg-by"></a></dt>
<dd><p>Character indicating whether to calculate to Mohn's rho on stock or fleet-based time series</p></dd>


<dt id="arg-filename">filename<a class="anchor" aria-label="anchor" href="#arg-filename"></a></dt>
<dd><p>Character string for the name of the markdown and HTML files.</p></dd>


<dt id="arg-dir">dir<a class="anchor" aria-label="anchor" href="#arg-dir"></a></dt>
<dd><p>The directory in which the markdown and HTML files will be saved.</p></dd>


<dt id="arg-open-file">open_file<a class="anchor" aria-label="anchor" href="#arg-open-file"></a></dt>
<dd><p>Logical, whether the HTML document is opened after it is rendered.</p></dd>


<dt id="arg-render-args">render_args<a class="anchor" aria-label="anchor" href="#arg-render-args"></a></dt>
<dd><p>List of arguments to pass to <code><a href="https://pkgs.rstudio.com/rmarkdown/reference/render.html" class="external-link">rmarkdown::render()</a></code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A <code>MARSretro</code> object containing a named lists of arrays generated by the retrospective analysis:</p><ul><li><p><code>S_yst</code> Spawning output array <code>[y, s, t]</code> where <code>t</code> indexes the retrospective peel</p></li>
<li><p><code>R_yst</code> Recruitment array <code>[y, s, t]</code></p></li>
<li><p><code>F_yst</code> Apical fishing mortality <code>[y, s, t]</code></p></li>
<li><p><code>VB_ymft</code> Vulnerable biomass available to each fishery <code>[y, m, f, t]</code></p></li>
</ul><p><code>plot.MARSretro</code> returns individual figures using base graphics.</p>
<p><code>summary.MARSretro</code> returns a matrix of Mohn's rho.</p>
<p><code>report.MARSretro</code> returns a HTML markdown report.</p>
    </div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Quang Huynh.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer></div>





  </body></html>

